@model PartDesk.Domain.Entities.Company

<form action="/manage/companies/save" id="company-form" role="form" class="form-horizontal">
    @Html.HiddenFor(m => m.Id)
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="icon"><i class="icon20 i-settings"></i></div>
            <h4>Свойства компании</h4>
            <a href="#" class="minimize"></a>
        </div>
        <div class="panel-body">
            <div class="form-group">
                <label class="col-lg-2 control-label" for="company-name-field">Наименование компании</label>
                <div class="col-lg-10">
                    <input class="form-control" name="Name" type="text" id="company-name-field" value="@Model.Name">
                </div>
            </div>
            <div class="form-group">
                <label class="col-lg-2 control-label" for="company-email-field">Email</label>
                <div class="col-lg-10">
                    <input class="form-control" name="Email" type="text" id="company-email-field" value="@Model.Email">
                </div>
            </div>
            <div class="form-group">
                <label class="col-lg-2 control-label" for="company-phone-field">Телефон</label>
                <div class="col-lg-10">
                    <input class="form-control" name="Phone" type="text" id="company-phone-field" value="@Model.Phone">
                </div>
            </div>
            <div class="form-group">
                <label class="col-lg-2 control-label" for="company-city-field">Город</label>
                <div class="col-lg-10">
                    <input class="form-control" name="City" type="text" id="company-city-field" value="@Model.City">
                </div>
            </div>
            <div class="form-group">
                <label class="col-lg-2 control-label" for="company-address-field">Адрес</label>
                <div class="col-lg-10">
                    <textarea class="form-control" name="Address" id="company-address-field">@Model.Address</textarea>
                </div>
            </div>
            @if (!String.IsNullOrEmpty(Model.Logo))
            {
                <div class="form-group">
                    <div class="col-lg-offset-2">
                        <div class="profile-avatar">
                            <img src="@Model.Logo" style="max-height: 100px; max-width: 100px"/>
                        </div>
                    </div>
                </div>
            }
            <div class="form-group">
                <label class="col-lg-2 control-label" for="logofile-field">Логотип</label>
                <div class="col-lg-10">
                    <input type="file" name="Logo" id="logo-file-field" />
                </div>
            </div>
            <div class="form-group">
                <label class="col-lg-2 control-label" for="company-status-field">Статус в системе</label>
                <div class="col-lg-10">
                    <select class="form-control" name="Status" id="company-status-field">
                        <option value="0" @(Model.Status == 0 ? "selected=selected" : "")>Активна</option>
                        <option value="1" @(Model.Status == 1 ? "selected=selected" : "")>Заблокирована</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <div class="col-lg-offset-2">
                    <div class="pad-left15">
                        <button type="submit" class="btn btn-primary">Сохранить</button>
                        <button type="button" class="btn" onclick="window.location.href='/manage/companies'; return false;">Отмена</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
<script type="text/javascript">
    $(document).ready(function () {
        $("#company-form").validate({            
           rules: {
               Name: {
                   required: true,
                   maxlength: 255
               },
               Email: {
                   required: true,
                   email: true
               },
               Phone: {
                   required: true,
                   maxlength: 20
               },
               City: {
                   required: true
               }
           } 
        });
        $("#company-phone-field").mask("9 (999) 999-99-99");
    });
</script>
